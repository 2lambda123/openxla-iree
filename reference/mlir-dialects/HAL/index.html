
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://openxla.github.io/iree/reference/mlir-dialects/HAL/">
      
      
        <link rel="prev" href="../Flow/">
      
      
        <link rel="next" href="../HALInline/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.3">
    
    
      
        <title>HAL - IREE</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto:300,300i,400,400i,700,700i%7CNoto+Sans+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto";--md-code-font:"Noto Sans Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/openxla.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hal-dialect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to community home -->
    <a
      href="https://github.com/openxla/community"
      title="OpenXLA"
      class="md-header__button md-logo"
      aria-label="OpenXLA"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>

    <!-- Link to site home -->
    <a
      href="https://openxla.github.io/iree/"
      title="IREE"
      class="md-header__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
    <div class="md-header__title">
      IREE
    </div>
    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HAL
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input
              class="md-option"
              data-md-color-media="(prefers-color-scheme: light)"
              data-md-color-scheme="default"
              data-md-color-primary="indigo"
              data-md-color-accent="indigo"
              
                aria-label="Switch to dark mode"
              
              type="radio"
              name="__palette"
              id="__palette_1"
            />
            
              <label
                class="md-header__button md-icon"
                title="Switch to dark mode"
                for="__palette_2"
                hidden
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input
              class="md-option"
              data-md-color-media="(prefers-color-scheme: dark)"
              data-md-color-scheme="slate"
              data-md-color-primary="indigo"
              data-md-color-accent="indigo"
              
                aria-label="Switch to light mode"
              
              type="radio"
              name="__palette"
              id="__palette_2"
            />
            
              <label
                class="md-header__button md-icon"
                title="Switch to light mode"
                for="__palette_1"
                hidden
              >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../building-from-source/" class="md-tabs__link">
          
  
    
  
  Building from source

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guides/" class="md-tabs__link">
          
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../community/" class="md-tabs__link">
          
  
    
  
  Community

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Determine classes -->


  



<!-- Navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Community site logo / home page link -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://github.com/openxla/community"
      title="IREE"
      class="md-nav__button md-logo"
      aria-label="IREE"
      data-md-component="logo"
    >
      
  <img src="../../../assets/images/openxla-logo-lockup-white.svg" alt="logo">

    </a>
    <!-- Site title (nav item below links to site home) -->
    IREE
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/openxla/iree" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    openxla/iree
  </div>
</a>
    </div>
  

  <!-- Navigation list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../building-from-source/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Building from source
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Building from source
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/getting-started/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"/></svg>
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/android/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.523 15.341a1 1 0 0 1 0-1.999 1 1 0 0 1 0 2m-11.046 0a1 1 0 0 1 0-2 1 1 0 0 1 0 2m11.405-6.02 1.997-3.46a.416.416 0 0 0-.152-.567.416.416 0 0 0-.568.152L17.137 8.95c-1.547-.706-3.284-1.1-5.137-1.1s-3.59.394-5.137 1.1L4.841 5.447a.416.416 0 0 0-.568-.152.416.416 0 0 0-.152.567l1.997 3.46C2.688 11.186.343 14.658 0 18.76h24c-.344-4.102-2.69-7.574-6.119-9.44"/></svg>
  
  <span class="md-ellipsis">
    Android cross-compilation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/ios/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"/></svg>
  
  <span class="md-ellipsis">
    iOS cross-compilation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../building-from-source/riscv/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.5.75V2h3V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75V5h1.25a.75.75 0 0 1 0 1.5H14v3h1.25a.75.75 0 0 1 0 1.5H14v1.25A1.75 1.75 0 0 1 12.25 14H11v1.25a.75.75 0 0 1-1.5 0V14h-3v1.25a.75.75 0 0 1-1.5 0V14H3.75A1.75 1.75 0 0 1 2 12.25V11H.75a.75.75 0 0 1 0-1.5H2v-3H.75a.75.75 0 0 1 0-1.5H2V3.75C2 2.784 2.784 2 3.75 2H5V.75a.75.75 0 0 1 1.5 0Zm5.75 11.75a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25ZM5.75 5h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-4.5A.75.75 0 0 1 5.75 5Zm.75 4.5h3v-3h-3Z"/></svg>
  
  <span class="md-ellipsis">
    RISC-V cross-compilation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/ml-frameworks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ML frameworks
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            ML frameworks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tensorflow/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.292 5.856 11.54 0v24l-4.095-2.378V7.603l-6.168 3.564.015-5.31zm21.43 5.311-.014-5.31L12.46 0v24l4.095-2.378V14.87l3.092 1.788-.018-4.618-3.074-1.756V7.603l6.168 3.564z"/></svg>
  
  <span class="md-ellipsis">
    TensorFlow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/tflite/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1.292 5.856 11.54 0v24l-4.095-2.378V7.603l-6.168 3.564.015-5.31zm21.43 5.311-.014-5.31L12.46 0v24l4.095-2.378V14.87l3.092 1.788-.018-4.618-3.074-1.756V7.603l6.168 3.564z"/></svg>
  
  <span class="md-ellipsis">
    TensorFlow Lite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/jax/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>
  
  <span class="md-ellipsis">
    JAX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ml-frameworks/pytorch/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.005 0 4.952 7.053a9.865 9.865 0 0 0 0 14.022 9.866 9.866 0 0 0 14.022 0c3.984-3.9 3.986-10.205.085-14.023l-1.744 1.743c2.904 2.905 2.904 7.634 0 10.538s-7.634 2.904-10.538 0-2.904-7.634 0-10.538l4.647-4.646.582-.665zm3.568 3.899a1.327 1.327 0 0 0-1.327 1.327 1.327 1.327 0 0 0 1.327 1.328A1.327 1.327 0 0 0 16.9 5.226 1.327 1.327 0 0 0 15.573 3.9z"/></svg>
  
  <span class="md-ellipsis">
    PyTorch
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently updated">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/deployment-configurations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Deployment configurations
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Deployment configurations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/cpu/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.5.75V2h3V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75V5h1.25a.75.75 0 0 1 0 1.5H14v3h1.25a.75.75 0 0 1 0 1.5H14v1.25A1.75 1.75 0 0 1 12.25 14H11v1.25a.75.75 0 0 1-1.5 0V14h-3v1.25a.75.75 0 0 1-1.5 0V14H3.75A1.75 1.75 0 0 1 2 12.25V11H.75a.75.75 0 0 1 0-1.5H2v-3H.75a.75.75 0 0 1 0-1.5H2V3.75C2 2.784 2.784 2 3.75 2H5V.75a.75.75 0 0 1 1.5 0Zm5.75 11.75a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25ZM5.75 5h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-4.5A.75.75 0 0 1 5.75 5Zm.75 4.5h3v-3h-3Z"/></svg>
  
  <span class="md-ellipsis">
    CPU
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/bare-metal/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.5.75V2h3V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75V5h1.25a.75.75 0 0 1 0 1.5H14v3h1.25a.75.75 0 0 1 0 1.5H14v1.25A1.75 1.75 0 0 1 12.25 14H11v1.25a.75.75 0 0 1-1.5 0V14h-3v1.25a.75.75 0 0 1-1.5 0V14H3.75A1.75 1.75 0 0 1 2 12.25V11H.75a.75.75 0 0 1 0-1.5H2v-3H.75a.75.75 0 0 1 0-1.5H2V3.75C2 2.784 2.784 2 3.75 2H5V.75a.75.75 0 0 1 1.5 0Zm5.75 11.75a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25ZM5.75 5h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-4.5A.75.75 0 0 1 5.75 5Zm.75 4.5h3v-3h-3Z"/></svg>
  
  <span class="md-ellipsis">
    CPU - Bare-Metal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-vulkan/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"/></svg>
  
  <span class="md-ellipsis">
    GPU - Vulkan
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-cuda-rocm/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"/></svg>
  
  <span class="md-ellipsis">
    GPU - CUDA/ROCm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment-configurations/gpu-metal/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"/></svg>
  
  <span class="md-ellipsis">
    GPU - Metal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Other topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/developer-tips/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1h4m6-10h3v2h-3v-2M1 11h3v2H1v-2M13 1v3h-2V1h2M4.92 3.5l2.13 2.14-1.42 1.41L3.5 4.93 4.92 3.5m12.03 2.13 2.12-2.13 1.43 1.43-2.13 2.12-1.42-1.42Z"/></svg>
  
  <span class="md-ellipsis">
    Developer tips and tricks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_4">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../bindings/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API bindings
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_4_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            API bindings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/c-api/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/></svg>
  
  <span class="md-ellipsis">
    C API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../bindings/python/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20.83 2.978-.086.095a16.245 16.245 0 0 0-1.19 1.487 5.773 5.773 0 0 0-.446.719 2.88 2.88 0 0 0-.249.596.497.497 0 0 0-.033.177v.004a.297.297 0 0 0-.21.29.3.3 0 0 0 .187.284c.038.371.08 1.142.07 2.2l-.004.142a8.001 8.001 0 0 1-.434 2.327c-.016-.01-.03-.014-.04-.013-.03.003-.11.12-.19.251-.058.09-.119.195-.154.291a.37.37 0 0 0-.03.14.249.249 0 0 0 .01.088c.01.037.022.058.022.058a6.836 6.836 0 0 1-.003.007.144.144 0 0 0-.028.067l-.012.029a6.836 6.836 0 0 1-.257.527l-.077.142a6.836 6.836 0 0 1-.07.115.157.157 0 0 0-.022-.014.16.16 0 0 0-.113.024c-.047.035-.151.194-.498.368a1.384 1.384 0 0 1-.32.114 14.1 14.1 0 0 0 .248-2.07 5.072 5.072 0 0 0-.064-1.057c.003-.01.003-.017.003-.017l-.005.01a4.345 4.345 0 0 0-.104-.458 3.554 3.554 0 0 0-.724-1.385c-.631-.754-1.496-1.14-2.256-1.165l-.125-.002c0-.008 0-.015.002-.022.02-.098.024-.127-.087-.032a.872.872 0 0 0-.057.054 2.986 2.986 0 0 0-.146.007.716.716 0 0 1-.003-.108c.004-.076.024-.127-.087-.032a.553.553 0 0 0-.142.167c-.05.008-.08.015-.08.015l.045-.002-.047.008c-.016-.042-.053-.105-.048-.16.01-.118.043-.14-.037-.065-.098.09-.202.226-.22.3l-.096.03c-.018-.019-.074-.07-.086-.179-.013-.11-.012-.166-.08-.05a1.14 1.14 0 0 0-.13.348c-.032.015-.063.03-.093.046a.27.27 0 0 1-.057-.173c-.005-.144.04-.26-.067-.068a1.634 1.634 0 0 0-.146.406 1.6 1.6 0 0 0-.105.08 2.7 2.7 0 0 1-.008-.17c-.002-.143.021-.296-.067-.026a1.832 1.832 0 0 0-.07.321c-.404.385-.65.917-.644 1.572v.007a3.42 3.42 0 0 0 .014.33c.02.238.057.438.107.605-.095.13-.103.689-.01.818.073.104.496.35.586.399a.367.367 0 0 1 .094.093c.115.188.115.567.027.762-.107.238.107.285.285.32.178.036.415-.023.463-.118.047-.095-.154-.31-.237-.748-.084-.439.13-.474.13-.474s.095.024.237.249c.11.175.227.313.336.413a.727.727 0 0 1-.201.172c.12.005.24-.051.304-.087a.77.77 0 0 0 .07.045 1.015 1.015 0 0 1-.05.05.506.506 0 0 0 .109-.022.295.295 0 0 0 .084.022c.155.012.57-.368.57-.439 0-.018-.015-.04-.038-.063-.042-.045-.12-.1-.207-.177a1.03 1.03 0 0 1-.11-.116.723.723 0 0 1-.141-.374v-.01l-.003-.031s.007-.007.016-.02v.004l.004-.01c.052-.08.15-.379-.47-1.078a3.045 3.045 0 0 0-.924-.706c-.042-.472.15-.913.626-1.13l-.005.005.008-.006c.227-.102.517-.155.877-.136.69.036 1.22.36 1.59.845.514.712.738 1.78.575 2.856-.068.065-.055.075-.013.077a4.616 4.616 0 0 1-.055.273l-.027.015c-.123.074-.071.073 0 .092l-.006.02a3.98 3.98 0 0 1-.066.193.956.956 0 0 0-.087.03c-.135.053-.08.06-.012.09l.044.023a5.62 5.62 0 0 1-.101.237.746.746 0 0 0-.08.017c-.142.036-.088.05-.024.09a.52.52 0 0 1 .04.027 6.783 6.783 0 0 1-.107.214.76.76 0 0 0-.153.025c-.14.036-.087.05-.023.09.034.02.06.04.08.059a8.021 8.021 0 0 1-.094.165l-.023.036a.59.59 0 0 0-.206.024c-.142.036-.088.05-.024.09a.67.67 0 0 1 .104.079 8.61 8.61 0 0 1-.126.18.514.514 0 0 0-.23-.005c-.144.02-.092.04-.033.086.068.053.1.099.118.118l-.062.084c-.044-.058-.15-.124-.246-.193a.85.85 0 0 0-.29-.13c-.048 0-.2.268-1.017.197-.819-.071-.87-.15-.942-.15a.978.978 0 0 0-.228.059l-.034-.02a11.03 11.03 0 0 1-.972-.674c-.464-.37-.72-.647-.72-.647s.137-.125-.047-.284a3.32 3.32 0 0 0-.338-.277 2.157 2.157 0 0 0-.242-.166 3.57 3.57 0 0 1-.088-.127 11.485 11.485 0 0 1-.363-.628 10.455 10.455 0 0 1-.25-.527c-.16-.36-.27-.682-.346-.964a5.62 5.62 0 0 1-.148-.923 2.257 2.257 0 0 1 .004-.242.411.411 0 0 0 .158-.323.411.411 0 0 0-.358-.407c-.204-.427-.982-1.477-3.881-3.68l-.127-.097.005.004-.036-.027C7.067 6.599 7.644 7.587 7.795 8a.411.411 0 0 0-.027.033 18.69 18.69 0 0 0-.018-.013c.018 0 .025-.005.025-.005s-.672-.546-1.787-1.23c-1.118-.687-1.748-.849-1.88-.877l-.026-.006s.206.19.174.285c-.01.032-.168.022-.421.028a3.948 3.948 0 0 0-.725.07 4.1 4.1 0 0 0-1.567.63C.238 7.785 0 8.401 0 8.401s.55-.768 1.58-1.305c-.014.337-.047 1.97.445 4.12.53 2.32 1.53 4.487 1.614 4.665.004.178.016.272.016.272s.148-1.79.756-3.647c.175.283.758 1.117 2.075 2.096 1.628 1.21 2.37 1.536 2.4 1.548.001.157.005.24.005.24s.005-.1.018-.263a4.69 4.69 0 0 1 .552-.67 3.58 3.58 0 0 1 .54-.435c.032.11.063.204.093.276-.02-.097-.036-.19-.052-.282.107.01.538.066 1.206.393.343.168.609.395.798.595a.167.167 0 0 0-.014.006s.123.112.269.403a2.416 2.416 0 0 0-.73.084 2.913 2.913 0 0 0-.098-.19.484.484 0 0 0-.039-.134c-.027-.061-.095-.1-.164-.14a.397.397 0 0 0-.104-.073.225.225 0 0 1-.055-.073c-.084-.184-.798.012-.942.18-.175.204-.209.464-.14.608.021.045.07.082.138.11.002.22.137.75.404 1.133a4.964 4.964 0 0 1-.108-.666c-.009-.16 0-.274.015-.35.047.328.174.684.577 1.124-.248-.54-.22-.861-.195-1.143l.01-.044.005-.001c.036.263.142.534.482.963a.412.412 0 0 1-.014-.028l.014.021a1.626 1.626 0 0 1-.167-1.03l.008-.002c.046.03.091.07.134.126.128.172.188.349.212.47a.528.528 0 0 0 .067.383 18.33 18.33 0 0 1-.72.501c-.23.15-.49.313-.757.47-.14.08-.279.158-.414.23l-.135-.077h.002l-.008-.004c-.97-.559-1.69-.932-2.518-1.082-.93-.166-1.786.283-1.982 1.082a1.284 1.284 0 0 0 .552 1.38l.012.008c.013.01.026.017.04.026l.06.036h.002a2.1 2.1 0 0 0 .69.237l.028.005h.006a3.5 3.5 0 0 0 .412.044c.975.047 2.156-.408 3.323-.982.1.054.202.108.306.166 2.547 1.403 4.098 1.585 6.154.728-.502.151-1.208.356-2.094.344a.05.05 0 0 0-.02-.006v.006a5.46 5.46 0 0 1-.647-.05l-.03-.004v-.003a.267.267 0 0 0-.001.002 6.25 6.25 0 0 1-1.556-.436 7.792 7.792 0 0 1-.745-.362 57.065 57.065 0 0 1-1.006-.569c.348-.178.692-.363 1.026-.545.355-.189.672-.362.918-.5l.009-.004h.007s.083-.019.16-.043c.17-.052.41-.149.695-.283.028.117.095.215.195.253.235.091.407.027.522-.102l.018-.01.047-.037c.05-.03.107-.067.156-.09a1.14 1.14 0 0 1 .053-.022c.04-.01.078-.023.116-.037l.033-.01c-.145.297-.091.581-.091.581.043-.37.22-.608.392-.715.064-.027.13-.05.2-.067.064 0 .116.023.144.07.07.12.217.194.364.226.024.15-.045.404-.4.866l.09-.062.004-.003.072-.053c.143-.108.252-.21.334-.305a.97.97 0 0 0 .19-.305c.013.2-.042.507-.31 1.036 0 0 .317-.276.514-.63.006.191-.01.443-.063.785.345-.673.325-1.085.239-1.326l-.01-.036a.433.433 0 0 0-.01-.065l.042-.057c.118-.166-.048-.344-.154-.414-.06-.04-.2-.154-.454-.157-.225-.27-.51-.15-.958.145a1.297 1.297 0 0 1-.166.092.725.725 0 0 0-.055-.116c.16-.096.326-.2.494-.308.317-.207.553-.416.728-.615.51-.517.69-1.02 1.21-1.446h-.013l.06-.031c.854-.458 1.306-.547 1.338-.553l-.003.128.018-.125a1.795 1.795 0 0 1 .481.344 2.12 2.12 0 0 1 .362.487l.044.3s0-.116-.01-.33c.153-.151 1.02-1.043 1.724-2.466.694-1.404.944-2.523 1.017-2.924a18.188 18.188 0 0 1 .665 2.466s-.002-.133-.03-.374c.096-.336.515-1.872.626-3.756.1-1.68-.065-2.78-.14-3.173.648.536.995 1.306.995 1.306s-.04-.163-.188-.437l.02.027s-.236-.455-.644-.904a6.45 6.45 0 0 0-.157-.172c-.432-.46-.854-.617-1.17-.672a1.57 1.57 0 0 0-.308-.03h-.019c-.125-.003-.2.002-.207-.026-.02-.095.11-.285.11-.285s-.177.046-.554.33c-.23.167-.52.41-.853.76a13.689 13.689 0 0 0-.89.994l-.075.095a.203.203 0 0 0-.023-.017c.076-.33.362-1.117 1.788-3.111zM11.92 14.09a.351.351 0 0 1 .012.006zm-.263 2.606c.088.044.19.106.303.194h-.005a.484.484 0 0 0-.155.07.956.956 0 0 1-.126-.224zm-4.855 1.57c.132 0 .276.013.432.047l.02.005.017.004c.11.027.223.062.337.102l.057.021c.191.074.395.156.611.248.32.14.62.277.838.375l.183.088c-.22.106-.424.196-.577.261-1.014.416-1.83.536-2.338.391-.944-.269-.76-1.536.42-1.542z"/></svg>
  
  <span class="md-ellipsis">
    MLIR dialects
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_4_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            MLIR dialects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" checked>
        
          <label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Internal dialects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            Internal dialects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Check/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Check
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    HAL
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    HAL
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator-ops" class="md-nav__link">
    Allocator ops
  </a>
  
    <nav class="md-nav" aria-label="Allocator ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halallocatorallocate-halallocatorallocateop" class="md-nav__link">
    hal.allocator.allocate (HAL::AllocatorAllocateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../HALInline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HALInline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../HALLoader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HALLoader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Stream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stream
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Util/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Util
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../VM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../VMVX/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VMVX
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3_3" >
        
          <label class="md-nav__link" for="__nav_4_3_3" id="__nav_4_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Public dialects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_3">
            <span class="md-nav__icon md-icon"></span>
            Public dialects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../IREEInput/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IREEInput
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../IREELinalgExt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IREELinalgExt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Other topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/></svg>
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization-options/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>
  
  <span class="md-ellipsis">
    Optimization options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"/></svg>
  
  <span class="md-ellipsis">
    Extensions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Community
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_5">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../community/blog/" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/></svg>
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              <label class="md-nav__link " for="__nav_5_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_2" >
        
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_3" >
        
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/category/platforms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platforms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/category/performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/blog/category/frontends/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontends
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/tags/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#operation-definition" class="md-nav__link">
    Operation definition
  </a>
  
    <nav class="md-nav" aria-label="Operation definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allocator-ops" class="md-nav__link">
    Allocator ops
  </a>
  
    <nav class="md-nav" aria-label="Allocator ops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#halallocatorallocate-halallocatorallocateop" class="md-nav__link">
    hal.allocator.allocate (HAL::AllocatorAllocateOp)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<!-- Autogenerated by mlir-tblgen; don't manually edit -->
<h1 id="hal-dialect">'hal' Dialect<a class="headerlink" href="#hal-dialect" title="Permanent link">link</a></h1>
<p>A dialect representing operations against the IREE HAL.</p>
<p>This can be thought of as a Vulkan-like model with all of the graphics bits
chopped out.</p>
<p>The type set is limited to those that can be represented in the IREE HAL
design: buffers and views, synchronization primitives like semaphores, and
and command buffers. The intent is that if a device could implement the HAL
interface the sequencer ops could run on that device, such as being able to
run on a GPU via indirect command buffers.</p>
<p>Though this is mostly a 1:1 mapping to the iree::hal API there are some
methods omitted as they are not likely to be needed in IR. It's assumed that
either sequencer interfaces will encapsulate the logic (such as device
resolution) or that certain features are unsafe to expose to user-defined
input.</p>
<div class="toc">
<ul>
<li><a href="#hal-dialect">'hal' Dialect</a><ul>
<li><a href="#operation-definition">Operation definition</a><ul>
<li><a href="#allocator-ops">Allocator ops</a><ul>
<li><a href="#halallocatorallocate-halallocatorallocateop">hal.allocator.allocate (HAL::AllocatorAllocateOp)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="operation-definition">Operation definition<a class="headerlink" href="#operation-definition" title="Permanent link">link</a></h2>
<h3 id="allocator-ops">Allocator ops<a class="headerlink" href="#allocator-ops" title="Permanent link">link</a></h3>
<p>Ops for <code>!hal.allocator</code> / <code>iree_hal_allocator_t</code>.</p>
<h4 id="halallocatorallocate-halallocatorallocateop"><code>hal.allocator.allocate</code> (HAL::AllocatorAllocateOp)<a class="headerlink" href="#halallocatorallocate-halallocatorallocateop" title="Permanent link">link</a></h4>
<p><em>Empty buffer allocation operation</em></p>
<p>Syntax:</p>
<div class="highlight"><pre><span></span><code>operation ::= `hal.allocator.allocate` `&lt;` $allocator `:` type($allocator) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` custom&lt;SizeAwareType&gt;(type($result), $result_size)
              attr-dict-with-keyword
</code></pre></div>
<p>Allocates a buffer of the given size from the allocator.
The size of the buffer returned may be larger than the requested size if the
allocator has specific alignment requirements or minimum allocation sizes.</p>
<p>Interfaces: OpAsmOpInterface, SizeAwareOpInterface</p>
<h5 id="attributes">Attributes:<a class="headerlink" href="#attributes" title="Permanent link">link</a></h5>
<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>memory_types</code></td><td>mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td><td><details><summary>valid MemoryType</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Optimal (`Optimal`)
* HostVisible (`HostVisible`)
* HostCoherent (`HostCoherent`)
* HostCached (`HostCached`)
* HostLocal (`HostLocal`)
* DeviceVisible (`DeviceVisible`)
* DeviceLocal (`DeviceLocal`){{% /markdown %}}</details></td></tr>
<tr><td><code>buffer_usage</code></td><td>mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td><td><details><summary>valid BufferUsage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* TransferSource (`TransferSource`)
* TransferTarget (`TransferTarget`)
* Transfer (`Transfer`)
* DispatchIndirectParams (`DispatchIndirectParams`)
* DispatchUniformRead (`DispatchUniformRead`)
* DispatchStorageRead (`DispatchStorageRead`)
* DispatchStorageWrite (`DispatchStorageWrite`)
* DispatchStorage (`DispatchStorage`)
* DispatchImageRead (`DispatchImageRead`)
* DispatchImageWrite (`DispatchImageWrite`)
* DispatchImage (`DispatchImage`)
* SharingExport (`SharingExport`)
* SharingReplicate (`SharingReplicate`)
* SharingConcurrent (`SharingConcurrent`)
* SharingImmutable (`SharingImmutable`)
* MappingScoped (`MappingScoped`)
* MappingPersistent (`MappingPersistent`)
* MappingOptional (`MappingOptional`)
* MappingAccessRandom (`MappingAccessRandom`)
* MappingAccessSequentialWrite (`MappingAccessSequentialWrite`)
* Mapping (`Mapping`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `allocator` | allocator
| `queue_affinity` | 64-bit signless integer
| `result_size` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer

#### `hal.allocator.import` (HAL::AllocatorImportOp)

_Allocator-supported host buffer import operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.allocator.import` `&lt;` $allocator `:` type($allocator) `&gt;`
              `source` `(` $source `:` type($source) `)` `` `[` $offset `,` $length `]`
              `affinity` `(` $queue_affinity `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` type($did_import) `,` type($result)
              attr-dict-with-keyword
</code></pre></div>

Tries importing host memory backed by the given byte buffer into a
device accessible `!hal.buffer`. The returned buffer may be host-only and
not directly usable on devices. If the mapping cannot be completed (such as
trying to map the host memory as device-local on devices with discrete
memory) then `did_import` will indicate that the returned buffer is null.

Interfaces: OpAsmOpInterface, SizeAwareOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>memory_types</code></td><td>mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td><td><details><summary>valid MemoryType</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Optimal (`Optimal`)
* HostVisible (`HostVisible`)
* HostCoherent (`HostCoherent`)
* HostCached (`HostCached`)
* HostLocal (`HostLocal`)
* DeviceVisible (`DeviceVisible`)
* DeviceLocal (`DeviceLocal`){{% /markdown %}}</details></td></tr>
<tr><td><code>buffer_usage</code></td><td>mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td><td><details><summary>valid BufferUsage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* TransferSource (`TransferSource`)
* TransferTarget (`TransferTarget`)
* Transfer (`Transfer`)
* DispatchIndirectParams (`DispatchIndirectParams`)
* DispatchUniformRead (`DispatchUniformRead`)
* DispatchStorageRead (`DispatchStorageRead`)
* DispatchStorageWrite (`DispatchStorageWrite`)
* DispatchStorage (`DispatchStorage`)
* DispatchImageRead (`DispatchImageRead`)
* DispatchImageWrite (`DispatchImageWrite`)
* DispatchImage (`DispatchImage`)
* SharingExport (`SharingExport`)
* SharingReplicate (`SharingReplicate`)
* SharingConcurrent (`SharingConcurrent`)
* SharingImmutable (`SharingImmutable`)
* MappingScoped (`MappingScoped`)
* MappingPersistent (`MappingPersistent`)
* MappingOptional (`MappingOptional`)
* MappingAccessRandom (`MappingAccessRandom`)
* MappingAccessSequentialWrite (`MappingAccessSequentialWrite`)
* Mapping (`Mapping`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `allocator` | allocator
| `queue_affinity` | 64-bit signless integer
| `source` | a reference counted byte buffer
| `offset` | index
| `length` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `did_import` | 1-bit signless integer
| `result` | buffer


### Buffer ops

Ops for `!hal.buffer` / `iree_hal_buffer_t`.

#### `hal.buffer.assert` (HAL::BufferAssertOp)

_Buffer compatibility assertion_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.assert` `&lt;` $buffer `:` type($buffer) `&gt;`
              `message` `(` $message `)`
              `allocator` `(` $allocator `:` type($allocator) `)`
              `minimum_length` `(` $minimum_length `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              attr-dict-with-keyword
</code></pre></div>

Asserts that the buffer is compatible with the given allocator and usage.
Program execution will abort as if `std.assert` had been used.

This only checks that the buffer can be used and not that it matches the
given parameters exactly. Buffers may be from other allocators so long as
the allocators are compatible (devices can address each other's memory),
the type and usage contain all the requested bits (having more bits is ok),
and the length is at least the requested minimum (as padding may be
ignored).

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>message</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>memory_types</code></td><td>mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td><td><details><summary>valid MemoryType</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Optimal (`Optimal`)
* HostVisible (`HostVisible`)
* HostCoherent (`HostCoherent`)
* HostCached (`HostCached`)
* HostLocal (`HostLocal`)
* DeviceVisible (`DeviceVisible`)
* DeviceLocal (`DeviceLocal`){{% /markdown %}}</details></td></tr>
<tr><td><code>buffer_usage</code></td><td>mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td><td><details><summary>valid BufferUsage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* TransferSource (`TransferSource`)
* TransferTarget (`TransferTarget`)
* Transfer (`Transfer`)
* DispatchIndirectParams (`DispatchIndirectParams`)
* DispatchUniformRead (`DispatchUniformRead`)
* DispatchStorageRead (`DispatchStorageRead`)
* DispatchStorageWrite (`DispatchStorageWrite`)
* DispatchStorage (`DispatchStorage`)
* DispatchImageRead (`DispatchImageRead`)
* DispatchImageWrite (`DispatchImageWrite`)
* DispatchImage (`DispatchImage`)
* SharingExport (`SharingExport`)
* SharingReplicate (`SharingReplicate`)
* SharingConcurrent (`SharingConcurrent`)
* SharingImmutable (`SharingImmutable`)
* MappingScoped (`MappingScoped`)
* MappingPersistent (`MappingPersistent`)
* MappingOptional (`MappingOptional`)
* MappingAccessRandom (`MappingAccessRandom`)
* MappingAccessSequentialWrite (`MappingAccessSequentialWrite`)
* Mapping (`Mapping`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | buffer
| `allocator` | allocator
| `minimum_length` | index

#### `hal.buffer.length` (HAL::BufferLengthOp)

_Buffer byte length accessor_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.length` `&lt;` $buffer `:` type($buffer) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the allocated size of a buffer in bytes.
May be less than the underlying buffer allocation if this is a subspan or
view into another buffer.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | buffer

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index

#### `hal.buffer.load` (HAL::BufferLoadOp)

_Buffer element load operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.load` `&lt;` $source_buffer `:` type($source_buffer) `&gt;`
              `` `[` $source_offset `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Loads a value from a buffer by mapping it.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `source_buffer` | buffer
| `source_offset` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index or signless integer or floating-point or complex-type or vector of any type values

#### `hal.buffer.store` (HAL::BufferStoreOp)

_Buffer element store operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.store` `&lt;` $target_buffer `:` type($target_buffer) `&gt;`
              `` `[` $target_offset `]`
              `value` `(` $value `:` type($value) `)`
              attr-dict-with-keyword
</code></pre></div>

Stores a value into a buffer by mapping it.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `value` | index or signless integer or floating-point or complex-type or vector of any type values
| `target_buffer` | buffer
| `target_offset` | index

#### `hal.buffer.subspan` (HAL::BufferSubspanOp)

_Buffer subspan operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer.subspan` `&lt;` $source_buffer `:` type($source_buffer) `&gt;`
              `` `[` $source_offset `,` $length `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a reference to a subspan of the buffer.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface, SizeAwareOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `source_buffer` | buffer
| `source_offset` | index
| `length` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer


### Buffer view ops

Ops for `!hal.buffer_view` / `iree_hal_buffer_view_t`.

#### `hal.buffer_view.assert` (HAL::BufferViewAssertOp)

_Buffer view contents assertion_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.assert` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `message` `(` $message `)`
              `shape` `(` `[` $shape `]` `)`
              `type` `(` $element_type `)`
              `encoding` `(` $encoding_type `)`
              attr-dict-with-keyword
</code></pre></div>

Asserts that the buffer view contains a data compatible tensor with the
given encoding. Program execution will abort as if `std.assert` had been
used.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>message</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view
| `element_type` | 32-bit signless integer
| `encoding_type` | 32-bit signless integer
| `shape` | index

#### `hal.buffer_view.buffer` (HAL::BufferViewBufferOp)

_Buffer view buffer accessor_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.buffer` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the buffer backing this view's contents.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer

#### `hal.buffer_view.create` (HAL::BufferViewCreateOp)

_Buffer view reference initializer_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.create` `buffer` `(` $source_buffer `:` type($source_buffer) `)`
              `` `[` $source_offset `,` $source_length `]`
              `shape` `(` `[` $shape `]` `)`
              `type` `(` $element_type `)`
              `encoding` `(` $encoding_type `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Creates a reference to a buffer with a particular shape and element type.
The buffer is not copied and both the original and view references must be
synchronized. This makes it easier to associate commonly-carried metadata
along with the contents.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `source_buffer` | buffer
| `source_offset` | index
| `source_length` | index
| `element_type` | 32-bit signless integer
| `encoding_type` | 32-bit signless integer
| `shape` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer_view

#### `hal.buffer_view.dim` (HAL::BufferViewDimOp)

_Buffer view dimension value query_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.dim` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `` `[` $index `]`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the value of the given dimension.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>index</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index

#### `hal.buffer_view.element_type` (HAL::BufferViewElementTypeOp)

_Buffer view element type query_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.element_type` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the element type of the buffer view.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | 32-bit signless integer

#### `hal.buffer_view.encoding_type` (HAL::BufferViewEncodingTypeOp)

_Buffer view encoding type query_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.encoding_type` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the encoding type of the buffer view.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | 32-bit signless integer

#### `hal.buffer_view.rank` (HAL::BufferViewRankOp)

_Buffer view rank query_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.rank` `&lt;` $buffer_view `:` type($buffer_view) `&gt;`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns the rank of the buffer view.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer_view` | buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index

#### `hal.buffer_view.trace` (HAL::BufferViewTraceOp)

_Trace value(s) operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.buffer_view.trace` $operands `:` type($operands)
              attr-dict-with-keyword
</code></pre></div>

Traces out to a runtime trace sink (console, log file, etc) the given buffer
views and titles them with the given key. The key is informational only and
useful for titling/marking specific sets of buffers for easier searching.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>key</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `operands` | buffer_view


### Channel ops

Ops for `!hal.channel` / `iree_hal_channel_t`.

#### `hal.channel.create` (HAL::ChannelCreateOp)

_Creates a new channel for collective communication_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.create` `device` `(` $device `:` type($device) `)`
              `affinity` `(` $queue_affinity `)`
              `flags` `(` $flags `)`
              `id` `(` $id `)`
              `group` `(` $group `)`
              `rank` `(` $rank `)`
              `count` `(` $count `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a new channel with the given rank associated with the given device
queue. Collective operations using this channel must only be submitted on
compatible queues.

The group and ID are optional and may be null. A rank or count of -1 can be
used to indicate a default inherited from the environment or device
configuration.

Interfaces: OpAsmOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::IntegerAttr</td><td>32-bit signless integer attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `id` | a reference counted byte buffer
| `group` | a reference counted byte buffer
| `rank` | 32-bit signless integer
| `count` | 32-bit signless integer

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | collective.channel

#### `hal.channel.rank_and_count` (HAL::ChannelRankAndCountOp)

_Returns the rank of the local participant in the group_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.rank_and_count` `&lt;` $channel `:` type($channel) `&gt;`
              `:` type($rank) `,` type($count)
              attr-dict-with-keyword
</code></pre></div>

Returns the rank the channel represents as a participant in a collective
group in `[0, count)` and the total participant count.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `channel` | collective.channel

##### Results:

| Result | Description |
| :----: | ----------- |
| `rank` | 32-bit signless integer
| `count` | 32-bit signless integer

#### `hal.channel.split` (HAL::ChannelSplitOp)

_Splits a collective communication channel_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.channel.split` `&lt;` $channel `:` type($channel) `&gt;`
              `color` `(` $color `)`
              `key` `(` $key `)`
              `flags` `(` $flags `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Partitions the group associated with the given channel into disjoint
subgroups for each unique value of color. Each new subgroup contains all
participants of the same color and within each subgroup the key argument
is used to define the rank order. When multiple participants in a group
use the same key the tie will be broken using their rank in the parent
group. A color of -1 indicates that the rank does not participate in any
subgroup and will return a null channel.

Interfaces: OpAsmOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::IntegerAttr</td><td>32-bit signless integer attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `channel` | collective.channel
| `color` | 32-bit signless integer
| `key` | 32-bit signless integer

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | collective.channel


### Command buffer ops

Ops for `!hal.command_buffer` / `iree_hal_command_buffer_t`.

#### `hal.command_buffer.begin_debug_group` (HAL::CommandBufferBeginDebugGroupOp)

_Pushes a command buffer debug group label_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.begin_debug_group` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `label` `(` $label `)`
              attr-dict-with-keyword
</code></pre></div>

Pushes a new debug group with the given label.
All commands between this and a mandatory matching call to
`hal.command_buffer.end_debug_group` will be grouped together with the
given label.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>label</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer

#### `hal.command_buffer.collective` (HAL::CommandBufferCollectiveOp)

_Command buffer collective dispatch recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.collective` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `channel` `(` $channel `:` type($channel) `)`
              `op` `(` $op `)`
              (`param` `(` $param^ `:` type($param) `)`)?
              (`send` `(` $send_buffer^ `:` type($send_buffer) `)`
              `` `[` $send_offset `,` $send_length `]`)?
              (`recv` `(` $recv_buffer^ `:` type($recv_buffer) `)`
              `` `[` $recv_offset `,` $recv_length `]`)?
              `count` `(` $element_count `)`
              attr-dict-with-keyword
</code></pre></div>

Dispatches a collective operation defined by op using the given buffers.

Traits: AttrSizedOperandSegments

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>op</code></td><td>::mlir::iree_compiler::IREE::HAL::CollectiveAttr</td><td><details><summary>collective operation and specification</summary>{{% markdown %}}
    Specifies the collective operation to perform and any mode bits required.
  {{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `channel` | collective.channel
| `element_count` | index
| `param` | 32-bit signless integer
| `send_buffer` | buffer
| `send_offset` | index
| `send_length` | index
| `recv_buffer` | buffer
| `recv_offset` | index
| `recv_length` | index

#### `hal.command_buffer.copy_buffer` (HAL::CommandBufferCopyBufferOp)

_Command buffer buffer copy recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.copy_buffer` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `source` `(` $source_buffer `:` type($source_buffer) `)`
              `` `[` $source_offset `]`
              `target` `(` $target_buffer `:` type($target_buffer) `)`
              `` `[` $target_offset `]`
              `length` `(` $length `)`
              attr-dict-with-keyword
</code></pre></div>

Copies a range of one buffer to another.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `source_buffer` | buffer
| `source_offset` | index
| `target_buffer` | buffer
| `target_offset` | index
| `length` | index

#### `hal.command_buffer.create` (HAL::CommandBufferCreateOp)

_Command buffer allocation operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.create` `device` `(` $device `:` type($device) `)`
              `mode` `(` $modes `)`
              `categories` `(` $command_categories `)`
              (`bindings` `(` $binding_capacity^ `)`)?
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a command buffer from the device pool ready to begin recording.

Interfaces: OpAsmOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>modes</code></td><td>mlir::iree_compiler::IREE::HAL::CommandBufferModeBitfieldAttr</td><td><details><summary>valid CommandBufferMode</summary>{{% markdown %}}Enum cases:
* None (`None`)
* OneShot (`OneShot`)
* Nested (`Nested`)
* AllowInlineExecution (`AllowInlineExecution`){{% /markdown %}}</details></td></tr>
<tr><td><code>command_categories</code></td><td>mlir::iree_compiler::IREE::HAL::CommandCategoryBitfieldAttr</td><td><details><summary>valid CommandCategory</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Transfer (`Transfer`)
* Dispatch (`Dispatch`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `binding_capacity` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | command_buffer

#### `hal.command_buffer.device` (HAL::CommandBufferDeviceOp)

_Command buffer device query operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.device` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `:` type($device)
              attr-dict-with-keyword
</code></pre></div>

Used during conversion to access the device used to create a command buffer.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer

##### Results:

| Result | Description |
| :----: | ----------- |
| `device` | device

#### `hal.command_buffer.dispatch.indirect` (HAL::CommandBufferDispatchIndirectOp)

_Command buffer indirect dispatch recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.indirect` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $executable `:` type($executable) `)`
              `` `[` $entry_point `]`
              `workgroups` `(` $workgroups_buffer `:` type($workgroups_buffer) `)`
              `` `[` $workgroups_offset `]`
              attr-dict-with-keyword
</code></pre></div>

Dispatches an execution request with the dispatch parameters loaded from the
given buffer.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>entry_point</code></td><td>::mlir::IntegerAttr</td><td>size_t</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `executable` | executable
| `workgroups_buffer` | buffer
| `workgroups_offset` | index

#### `hal.command_buffer.dispatch.indirect.symbol` (HAL::CommandBufferDispatchIndirectSymbolOp)

_Command buffer indirect dispatch recording operation, using symbolref_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.indirect.symbol` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $entry_point `)`
              `workgroups` `(` $workgroups_buffer `:` type($workgroups_buffer) `)`
              `` `[` $workgroups_offset `]`
              attr-dict-with-keyword
</code></pre></div>

Dispatches an execution request with the dispatch parameters loaded from the
given buffer, using using a nested symbol reference to the entry point.

<div class="highlight"><pre><span></span><code>hal.command_buffer.dispatch.indirect.symbol %cmd, @executable::@target::@entry,
                                            workgroups = %buffer[%offset]
</code></pre></div>

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>entry_point</code></td><td>::mlir::SymbolRefAttr</td><td>symbol reference attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `workgroups_buffer` | buffer
| `workgroups_offset` | index

#### `hal.command_buffer.dispatch` (HAL::CommandBufferDispatchOp)

_Command buffer dispatch recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $executable `:` type($executable) `)`
              `` `[` $entry_point `]`
              `workgroups` `(` `[`
              $workgroup_x `,`
              $workgroup_y `,`
              $workgroup_z
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

Dispatches an execution request.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>entry_point</code></td><td>::mlir::IntegerAttr</td><td>size_t</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `executable` | executable
| `workgroup_x` | index
| `workgroup_y` | index
| `workgroup_z` | index

#### `hal.command_buffer.dispatch.symbol` (HAL::CommandBufferDispatchSymbolOp)

_Command buffer dispatch recording operation, using symbolref_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.dispatch.symbol` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $entry_point `)`
              `workgroups` `(` `[`
              $workgroup_x `,`
              $workgroup_y `,`
              $workgroup_z
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

Dispatches an execution request, using a nested symbol reference to the entry point.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>entry_point</code></td><td>::mlir::SymbolRefAttr</td><td>symbol reference attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `workgroup_x` | index
| `workgroup_y` | index
| `workgroup_z` | index

#### `hal.command_buffer.end_debug_group` (HAL::CommandBufferEndDebugGroupOp)

_Pops a command buffer debug group label_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.end_debug_group` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

Pops a debug group from the stack.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer

#### `hal.command_buffer.execution_barrier` (HAL::CommandBufferExecutionBarrierOp)

_Command buffer execution barrier recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.execution_barrier` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `source` `(` $source_stage_mask `)`
              `target` `(` $target_stage_mask `)`
              `flags` `(` $flags `)`
              attr-dict-with-keyword
</code></pre></div>

Defines an execution dependency between all commands recorded before the
barrier and all commands recorded after the barrier. Only the stages
provided will be affected.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>source_stage_mask</code></td><td>mlir::iree_compiler::IREE::HAL::ExecutionStageBitfieldAttr</td><td><details><summary>valid ExecutionStage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* CommandIssue (`CommandIssue`)
* CommandProcess (`CommandProcess`)
* Dispatch (`Dispatch`)
* Transfer (`Transfer`)
* CommandRetire (`CommandRetire`)
* Host (`Host`){{% /markdown %}}</details></td></tr>
<tr><td><code>target_stage_mask</code></td><td>mlir::iree_compiler::IREE::HAL::ExecutionStageBitfieldAttr</td><td><details><summary>valid ExecutionStage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* CommandIssue (`CommandIssue`)
* CommandProcess (`CommandProcess`)
* Dispatch (`Dispatch`)
* Transfer (`Transfer`)
* CommandRetire (`CommandRetire`)
* Host (`Host`){{% /markdown %}}</details></td></tr>
<tr><td><code>flags</code></td><td>mlir::iree_compiler::IREE::HAL::ExecutionBarrierFlagBitfieldAttr</td><td><details><summary>valid ExecutionBarrierFlag</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Reserved (`Reserved`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer

#### `hal.command_buffer.fill_buffer` (HAL::CommandBufferFillBufferOp)

_Command buffer buffer fill recording operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.fill_buffer` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `target` `(` $target_buffer `:` type($target_buffer) `)`
              `` `[` $target_offset `,` $length `]`
              `pattern` `(` $pattern `:` type($pattern) `)`
              attr-dict-with-keyword
</code></pre></div>

Fills the target buffer with the given repeating value.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `target_buffer` | buffer
| `target_offset` | index
| `length` | index
| `pattern` | 8-bit signless integer or 16-bit signless integer or 32-bit signless integer

#### `hal.command_buffer.finalize` (HAL::CommandBufferFinalizeOp)

_Finalizes command buffer recording_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.finalize` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

Ends recording into the command buffer and prepares it for submission.
No more commands may be recorded into the command buffer.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer

#### `hal.command_buffer.push_constants` (HAL::CommandBufferPushConstantsOp)

_Command buffer push constants operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.push_constants` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `layout` `(` $pipeline_layout `:` type($pipeline_layout) `)`
              `offset` `(` $offset `)`
              `values` `(` `[` $values `]` `)`
              `:` type($values)
              attr-dict-with-keyword
</code></pre></div>

Pushes an inline set of constants that can be accessed by subsequent
dispatches using a compatible pipeline layout.

Push constants are always 4-byte values and treated as opaque, meaning that
they may be bit-casted floats, bit-packed booleans, etc.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>offset</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `pipeline_layout` | pipeline_layout
| `values` | 32-bit signless integer

#### `hal.command_buffer.push_descriptor_set` (HAL::CommandBufferPushDescriptorSetOp)

_Command buffer descriptor set push binding operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.command_buffer.push_descriptor_set` `&lt;` $command_buffer `:` type($command_buffer) `&gt;`
              `layout` `(` $pipeline_layout `:` type($pipeline_layout) `)`
              `` `[` $set `]`
              `bindings` `(` `[`
              custom&lt;DescriptorSetBindings&gt;($binding_ordinals,
              $binding_buffers,
              type($binding_buffers),
              $binding_offsets,
              $binding_lengths)
              `]` `)`
              attr-dict-with-keyword
</code></pre></div>

Pushes an inline-defined descriptor set to the command buffer.
The provided buffers may either be HAL buffers or indirect references into
the command buffer binding table.

Traits: SameVariadicOperandSize

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `command_buffer` | command_buffer
| `pipeline_layout` | pipeline_layout
| `set` | index
| `binding_ordinals` | index
| `binding_buffers` | index or buffer
| `binding_offsets` | index
| `binding_lengths` | index


### Descriptor set layout ops

Ops for `!hal.descriptor_set_layout` / `iree_hal_descriptor_set_layout_t`.


#### `hal.descriptor_set_layout.create` (HAL::DescriptorSetLayoutCreateOp)

_Creates a descriptor set layout_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.descriptor_set_layout.create` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `bindings` `(` $bindings `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Creates a descriptor set layout that defines the bindings used within a set.
The same descriptor set layout may be shared with many different executable
layouts and by doing so some runtime binding overhead when switching between
executables that use the same set layouts can be reduced.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::iree_compiler::IREE::HAL::DescriptorSetLayoutFlagsAttr</td><td><details><summary>valid DescriptorSetLayout flags</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Indirect (`Indirect`){{% /markdown %}}</details></td></tr>
<tr><td><code>bindings</code></td><td>::mlir::ArrayAttr</td><td>HAL descriptor set layout binding array attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | descriptor_set_layout

#### `hal.descriptor_set_layout.lookup` (HAL::DescriptorSetLayoutLookupOp)

_Descriptor set layout cache lookup pseudo-op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.descriptor_set_layout.lookup` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `bindings` `(` $bindings `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized descriptor set layout.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::iree_compiler::IREE::HAL::DescriptorSetLayoutFlagsAttr</td><td><details><summary>valid DescriptorSetLayout flags</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Indirect (`Indirect`){{% /markdown %}}</details></td></tr>
<tr><td><code>bindings</code></td><td>::mlir::ArrayAttr</td><td>HAL descriptor set layout binding array attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | descriptor_set_layout


### Device ops

Ops for `!hal.device` / `iree_hal_device_t`.

#### `hal.device.allocator` (HAL::DeviceAllocatorOp)

_Device allocator accessor operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.allocator` `&lt;` $device `:` type($device) `&gt;` `:` type($result) attr-dict-with-keyword
</code></pre></div>

Returns the allocator that can be used to allocate buffers compatible with
the device.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | allocator

#### `hal.device.query` (HAL::DeviceQueryOp)

_Returns a runtime configuration parameter from the device_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.query` `&lt;` $device `:` type($device) `&gt;`
              `key` `(` $category `:` `` `:` $key `)`
              `:` type($ok) `,` type($value)
              (`=` $default_value^)?
              attr-dict-with-keyword
</code></pre></div>

Queries a device configuration parameter with the given key.
Returns a status indicating whether the pair was recognized/available and if
it was the value converted to the specified type. Queries must return the
same value for the lifetime of the module though may vary from run to run.

This is roughly equivalent to the `sysconf` linux syscall
(https://man7.org/linux/man-pages/man3/sysconf.3.html) in that the exact
set of keys available and their interpretation is target-dependent. If there
is a HAL match attribute (`#hal.device.match.*`) or op
(`hal.device.match.*`) prefer to use that in order to get compile-time
propagation when the target is specified and elide the runtime query and
get compile-time verification when a runtime query is required.

Users of the op must check the `ok` result before using the value as what
set of keys is available may change over time. If in doubt: don't use this.
Each key used adds additional versioning and testing complexity as runtime
code path changes will explode combinatorially and should be treated with as
much care as a binary file format change. Keys should be prefixed with `ex.`
when experimental indicating that they are not expected to be present
forever; all non-experimental keys should be vetted.

Well-known keys:

* hal.executable.format :: {some format}
  Returns 1 if the given format is supported by the device loader.

* hal.device :: concurrency
  The maximum concurrently executable submissions, mapping roughly to the
  queue count. The actual concurrency available may be less than this based
  on dynamic runtime parameters such as power/thermal modes, quota limits,
  or user choice.

* hal.dispatch :: concurrency
  The maximum concurrently executable workgroups for a particular dispatch.
  The actual concurrency available may be less depending on device state.

Traits: AlwaysSpeculatableImplTrait, HAL_DeviceQuery

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>category</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>key</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>default_value</code></td><td>::mlir::TypedAttr</td><td><details><summary>TypedAttr instance</summary>{{% markdown %}}
    This interface is used for attributes that have a type. The type of an
    attribute is understood to represent the type of the data contained in the
    attribute and is often used as the type of a value with this data.
  {{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `ok` | 1-bit signless integer
| `value` | any type

#### `hal.device.queue.alloca` (HAL::DeviceQueueAllocaOp)

_Allocates a queue-ordered transient buffer_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.alloca` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `pool` `(` $pool `)`
              `type` `(` $memory_types `)`
              `usage` `(` $buffer_usage `)`
              `:` custom&lt;SizeAwareType&gt;(type($result), $result_size)
              attr-dict-with-keyword
</code></pre></div>

Returns a queue-ordered transient buffer that will be available for use when
the signal fence is reached. The allocation will not be made until the
wait fence has been reached.

The size of the buffer returned may be larger than the requested size if the
allocator has specific alignment requirements or minimum allocation sizes.

The buffer handle will remain live so long as there are retainers but the
contents are undefined before the allocation signal fence has been signaled
and after the deallocation wait fence has been reached.

Interfaces: OpAsmOpInterface, SizeAwareOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>memory_types</code></td><td>mlir::iree_compiler::IREE::HAL::MemoryTypeBitfieldAttr</td><td><details><summary>valid MemoryType</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Optimal (`Optimal`)
* HostVisible (`HostVisible`)
* HostCoherent (`HostCoherent`)
* HostCached (`HostCached`)
* HostLocal (`HostLocal`)
* DeviceVisible (`DeviceVisible`)
* DeviceLocal (`DeviceLocal`){{% /markdown %}}</details></td></tr>
<tr><td><code>buffer_usage</code></td><td>mlir::iree_compiler::IREE::HAL::BufferUsageBitfieldAttr</td><td><details><summary>valid BufferUsage</summary>{{% markdown %}}Enum cases:
* None (`None`)
* TransferSource (`TransferSource`)
* TransferTarget (`TransferTarget`)
* Transfer (`Transfer`)
* DispatchIndirectParams (`DispatchIndirectParams`)
* DispatchUniformRead (`DispatchUniformRead`)
* DispatchStorageRead (`DispatchStorageRead`)
* DispatchStorageWrite (`DispatchStorageWrite`)
* DispatchStorage (`DispatchStorage`)
* DispatchImageRead (`DispatchImageRead`)
* DispatchImageWrite (`DispatchImageWrite`)
* DispatchImage (`DispatchImage`)
* SharingExport (`SharingExport`)
* SharingReplicate (`SharingReplicate`)
* SharingConcurrent (`SharingConcurrent`)
* SharingImmutable (`SharingImmutable`)
* MappingScoped (`MappingScoped`)
* MappingPersistent (`MappingPersistent`)
* MappingOptional (`MappingOptional`)
* MappingAccessRandom (`MappingAccessRandom`)
* MappingAccessSequentialWrite (`MappingAccessSequentialWrite`)
* Mapping (`Mapping`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `wait_fence` | fence
| `signal_fence` | fence
| `pool` | 64-bit signless integer
| `result_size` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer

#### `hal.device.queue.dealloca` (HAL::DeviceQueueDeallocaOp)

_Deallocates a queue-ordered transient buffer_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.dealloca` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `buffer` `(` $buffer `:` type($buffer) `)`
              attr-dict-with-keyword
</code></pre></div>

Deallocates a queue-ordered transient buffer.
The deallocation will not be made until the wait fence has been reached and
once the storage is available for reuse the signal fence will be signaled.

After deallocation the contents of the buffer may still be accessible but
will have undefined contents as other operations reuse the memory.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `wait_fence` | fence
| `signal_fence` | fence
| `buffer` | buffer

#### `hal.device.queue.execute` (HAL::DeviceQueueExecuteOp)

_Enqueues command buffer execution_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.execute` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              (`commands` `(` `[` $command_buffers^ `]` `)`)?
              attr-dict-with-keyword
</code></pre></div>

Executes one or more command buffers on a device queue.
The command buffers are executed in order as if they were recorded as one.
No commands will execute until the wait fence has been reached and the
signal fence will be signaled when all commands have completed.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `wait_fence` | fence
| `signal_fence` | fence
| `command_buffers` | command_buffer

#### `hal.device.queue.flush` (HAL::DeviceQueueFlushOp)

_Flushes locally-pending submissions to the queue_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.flush` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              attr-dict-with-keyword
</code></pre></div>

Flushes any locally-pending submissions in the queue.
When submitting many queue operations this can be used to eagerly flush
earlier submissions while later ones are still being constructed.
This may be a no-op.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer

#### `hal.device.queue.read` (HAL::DeviceQueueReadOp)

_Reads a segment from a file into a device buffer_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.read` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `source` `(` $source_file `:` type($source_file) `)`
              `` `[` $source_offset `]`
              `target` `(` $target_buffer `:` type($target_buffer) `)`
              `` `[` $target_offset `]`
              `length` `(` $length `)`
              `flags` `(` $flags `)`
              attr-dict-with-keyword
</code></pre></div>

Enqueues a file read operation that streams a segment of the source file
defined by the source offset and length into the target HAL buffer at the
specified target offset. The queue affinity should be set to where the
target buffer will be consumed. The source file must have read permission
and the target buffer must have transfer-target usage. Read failure will
result in propagated semaphore failure or device loss.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::IntegerAttr</td><td>32-bit signless integer attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `wait_fence` | fence
| `signal_fence` | fence
| `source_file` | buffer
| `source_offset` | 64-bit signless integer
| `target_buffer` | buffer
| `target_offset` | index
| `length` | index

#### `hal.device.queue.write` (HAL::DeviceQueueWriteOp)

_Writes a segment from a device buffer into a file_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.device.queue.write` `&lt;` $device `:` type($device) `&gt;`
              `affinity` `(` $queue_affinity `)`
              `wait` `(` $wait_fence `)`
              `signal` `(` $signal_fence `)`
              `source` `(` $source_buffer `:` type($source_buffer) `)`
              `` `[` $source_offset `]`
              `target` `(` $target_file `:` type($target_file) `)`
              `` `[` $target_offset `]`
              `length` `(` $length `)`
              `flags` `(` $flags `)`
              attr-dict-with-keyword
</code></pre></div>

Enqueues a file write operation that streams a segment of the source HAL
buffer defined by the source offset and length into the target file at the
specified target offset. The queue affinity should be set to where the
source buffer was produced. The source buffer must have transfer-source
usage and the target file must have write permission. Write failure will
result in propagated semaphore failure or device loss.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>::mlir::IntegerAttr</td><td>32-bit signless integer attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `wait_fence` | fence
| `signal_fence` | fence
| `source_buffer` | buffer
| `source_offset` | index
| `target_file` | buffer
| `target_offset` | 64-bit signless integer
| `length` | index

#### `hal.device.switch` (HAL::DeviceSwitchOp)

_Runtime device switch pseudo op_

Switches between multiple regions based on the runtime device type.
The provided regions are matched against the runtime backend of the given
device and executed only when the device matches the conditions.

Conditions can match on wildcards and be folded to enable conditions that
have similar bodies to be folded. The patterns themselves are only matched
once at startup and then the results are cached; the runtime overhead is
equivalent to a normal switch statement. In cases where the compiler can
statically identify the device type entire cases can be folded away.

Supported conditions:
* `#hal.match...`: execute the region if the expression matches.

Supported match expressions:
* `#hal.match.always`: always matches; useful for defaults.
* `#hal.match.any<[...]>`: matches if any of the nested expressions match.
* `#hal.match.all<[...]>`: matches only if all of the nested expressions
  match.
* `#hal.device.match.id<"pattern*-?-*">`: matches against the device
  identifier. The pattern is evaluated with standard file path wildcards
  (`*` for zero or more characters and `?` for one character).

If more than one condition is satisfied the first listed will be chosen.
More specific conditions should be earlier in the set. If no condition is
matched but there are return values the switch will abort at runtime. It's
strongly recommend that all switches that return values end with a trailing
`#hal.match.always` condition to handle the fallthrough case.

Upon creation each condition region will have an empty entry block with the
specified operands available as arguments. Each region must be setup to
return the same types.

<div class="highlight"><pre><span></span><code>%c0 = arith.constant 0 : i32
%c1 = arith.constant 1 : i32
%c2 = arith.constant 2 : i32
%device = ... : !hal.device
%0 = hal.device.switch&lt;%device : !hal.device&gt; -&gt; i32
  #hal.device.match.id&lt;&quot;vulkan-v1.?-*&quot;&gt; {
    hal.return %c1 : i32
  },
  #hal.match.any&lt;[#hal.device.match.id&lt;&quot;vmvx&quot;&gt;, #hal.device.match.id&lt;&quot;vulkan-*&quot;&gt;]&gt; {
    hal.return %c2 : i32
  },
  #hal.match.always {
    hal.return %c0 : i32
  }
</code></pre></div>

Traits: NoRegionArguments, RecursiveMemoryEffects

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>conditions</code></td><td>::mlir::ArrayAttr</td><td>array attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `results` | any type

#### `hal.return` (HAL::ReturnOp)

_Return from a hal.device.switch region_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.return` ($operands^ `:` type($operands))? attr-dict
</code></pre></div>

Returns the given values from the region and back to the host code.

Traits: Terminator

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `operands` | any type


### Executable ops

Ops for `!hal.executable` / `iree_hal_executable_t`.

#### `hal.executable.binary` (HAL::ExecutableBinaryOp)

_Compiled executable binary data_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.binary` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
</code></pre></div>

A compiled executable binary with an optional nested module containing the
IR prior to serialization (for debugging).

Traits: HasParent<IREE::HAL::ExecutableOp>

Interfaces: Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>sym_visibility</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>sym_name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>format</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>data</code></td><td>::mlir::DenseIntElementsAttr</td><td>8-bit signless integer elements attribute</td></tr>
<tr><td><code>mime_type</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

#### `hal.executable.calculate_workgroups` (HAL::ExecutableCalculateWorkgroupsOp)

_Calculates workgroup count from workload for an exported function_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.calculate_workgroups` `device` `(` $device `:` type($device) `)`
              `target` `(` $entry_point `)`
              (`workload` `(` `[` $workload^ `]` `)`)?
              `:` type($workgroup_x) `,` type($workgroup_y) `,` type($workgroup_z)
              attr-dict-with-keyword
</code></pre></div>

Calculates the workgroup count (grid XYZ) based on the given workload using
the workgroup count calculation region of the target
`hal.executable.export` op.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>entry_point</code></td><td>::mlir::SymbolRefAttr</td><td>symbol reference attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `workload` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `workgroup_x` | index
| `workgroup_y` | index
| `workgroup_z` | index

#### `hal.executable.constant.block` (HAL::ExecutableConstantBlockOp)

_Executable constant block initializer_

Initializes one or more constants in the executable constant block by
returning one value per identified constant. Each constant block is
evaluated on the host prior to instantiating the executable for a given
device and allows for the executable to be specialized based on device
capabilities and limits.

The keys specified are unique per variant and will be deduplicated across
multiple constant blocks when present. They are only used during lowering
and will not survive to runtime so they need only have descriptive enough
names to avoid collisions and represent the semantics of the value.

Constant values can be loaded in the device code with the
`hal.executable.constant.load` op:

<div class="highlight"><pre><span></span><code>hal.executable.variant public @target {
  hal.executable.constant.block(%device: !hal.device) -&gt; (i32, i32) as (&quot;foo&quot;, &quot;bar&quot;) {
    %0 = hal.device.query&lt;%device&gt; key(&quot;some.device.prop&quot;)...
    %1 = hal.device.query&lt;%device&gt; key(&quot;another.device.prop&quot;)...
    hal.return %0, %1 : i32, i32
  }
  builtin.module {
    func @dispatch0() {
      %0 = hal.executable.constant.load &quot;foo&quot; : i32
      %1 = hal.executable.constant.load &quot;bar&quot; : i32
      return
    }
  }
}
</code></pre></div>

Each target backend will implement the constant initialization and access in
a way compatible with its execution model. Examples:
- CPU: read-only buffer initialized on load and passed to each dispatch
- CUDA: read-only buffer initialized on load and passed to each dispatch
- SPIR-V: specialization constants
- Metal: function constants
- WebGPU: pipeline-overridable constants

Traits: HasParent<IREE::HAL::ExecutableSourceOp, IREE::HAL::ExecutableVariantOp>, IsolatedFromAbove

Interfaces: CallableOpInterface, FunctionOpInterface, Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>function_type</code></td><td>::mlir::TypeAttr</td><td>type attribute of function type</td></tr>
<tr><td><code>keys</code></td><td>::mlir::ArrayAttr</td><td>array attribute</td></tr>
<tr><td><code>arg_attrs</code></td><td>::mlir::ArrayAttr</td><td>Array of dictionary attributes</td></tr>
<tr><td><code>res_attrs</code></td><td>::mlir::ArrayAttr</td><td>Array of dictionary attributes</td></tr>
<table>

#### `hal.executable.constant.load` (HAL::ExecutableConstantLoadOp)

_Loads a constant value from the executable constant block_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.constant.load` $key attr-dict `:` type($result)
</code></pre></div>

Loads a scalar constant value from the static executable constant block.
The value provided by a constant block with the given key will be loaded and
bitcast (possibly with truncation or zero-extension) to the result type.

Note that backends are allowed to implement their own mechanisms for
referencing constant block values and this is provided only as a default for
those not needing special behavior.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>key</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index or signless integer or floating-point or complex-type

#### `hal.executable.create` (HAL::ExecutableCreateOp)

_Creates an executable_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.create` `device` `(` $device `:` type($device) `)`
              `target` `(` $executable_target `)`
              `layouts` `(` `[` $layouts `]` `)`
              (`constants` `(` `[` $constants^ `]` `)`)?
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Creates a target-dependent executable cached on the provided device. Entry
points contained within the executable can be dispatched using the resulting
executable handle.

Depending on the driver creation may take a non-trivial amount of time
(such as when JITing/etc). As the cache is internally synchronized callers
can issue preparation requests from multiple threads - even for the same
executables - and calls will block until preparation completes.

Optional constants provide for specialization of the executable based on
runtime-derived parameters.

Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>executable_target</code></td><td>::mlir::SymbolRefAttr</td><td>symbol reference attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `layouts` | pipeline_layout
| `constants` | 32-bit signless integer

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | executable

#### `hal.executable_end` (HAL::ExecutableEndOp)

_Terminator pseudo-op for the executable op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable_end` attr-dict
</code></pre></div>


Traits: HasParent<IREE::HAL::ExecutableOp>, Terminator

#### `hal.executable.export` (HAL::ExecutableExportOp)

_Executable entry point declaration_

An entry point exported by the executable with statically-available
information describing the IO interface it uses and other dispatch metadata.

The `calculate_workgroup_count` region represents the computation that
returns the number of workgroups to use in the 3D grid dispatch.
The arguments to the region represents the workload as captured by each
dispatch.
It returns the number of workgroups along x, y, and z.

Traits: HasParent<IREE::HAL::ExecutableSourceOp, IREE::HAL::ExecutableVariantOp>, IsolatedFromAbove

Interfaces: Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>sym_visibility</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>sym_name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>ordinal</code></td><td>::mlir::IntegerAttr</td><td>size_t</td></tr>
<tr><td><code>layout</code></td><td>::mlir::iree_compiler::IREE::HAL::PipelineLayoutAttr</td><td><details><summary>executable entry point layout specification</summary>{{% markdown %}}
    Specifies the layout information used for interacting with executable
    functions. This allows host code to correctly map parameters to the
    lower-level target-specific argument passing behavior.
  {{% /markdown %}}</details></td></tr>
<tr><td><code>workgroup_size</code></td><td>::mlir::ArrayAttr</td><td>index array attribute</td></tr>
<tr><td><code>subgroup_size</code></td><td>::mlir::IntegerAttr</td><td>size_t</td></tr>
<tr><td><code>workgroup_local_memory</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

#### `hal.executable.lookup` (HAL::ExecutableLookupOp)

_Executable cache lookup pseudo-op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.lookup` `device` `(` $device `:` type($device) `)`
              `executable` `(` $executable `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized executable.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>executable</code></td><td>::mlir::FlatSymbolRefAttr</td><td>flat symbol reference attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | executable

#### `hal.executable` (HAL::ExecutableOp)

_Target-specific executable module_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
              regions
</code></pre></div>

An executable module representing a target-specific compiled
kernel/shader/etc.

Traits: IsolatedFromAbove, SingleBlock, SingleBlockImplicitTerminator<IREE::HAL::ExecutableEndOp>, SymbolTable

Interfaces: Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>sym_visibility</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>sym_name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

#### `hal.executable.source_end` (HAL::ExecutableSourceEndOp)

_Terminator pseudo-op for the executable source op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.source_end` attr-dict
</code></pre></div>


Traits: HasParent<IREE::HAL::ExecutableSourceOp>, Terminator

#### `hal.executable.source` (HAL::ExecutableSourceOp)

_Generic source contents of an executable op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.source` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              attr-dict-with-keyword
              ``
              regions
</code></pre></div>

This is an unspecialized source representation of an executable
module without an assigned target. This is useful for hand-authoring
executables prior to device specification.

Traits: IsolatedFromAbove, SingleBlock, SingleBlockImplicitTerminator<IREE::HAL::ExecutableSourceEndOp>, SymbolTable

Interfaces: Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>sym_visibility</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>sym_name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>objects</code></td><td>::mlir::iree_compiler::IREE::HAL::ExecutableObjectsAttr</td><td><details><summary>target-specific object file references</summary>{{% markdown %}}
    A dictionary mapping executable target specifications to a list of objects.
    This is used to allow layers of the stack that support multi-targeting to
    specify information used during lowering into each particular target.

    The key attributes are matched against each target variant based on the
    backend and format as well as any configuration data provided. When
    comparing the configuration only fields present in both the key and
    target variant will be checked and must match. This allows specification of
    generic sets ("all x86_64 targets get these objects") as well as specific
    ones ("only x86_64 targets with vector_size = 64 get these objects").

    Example:
    <div class="highlight"><pre><span></span><code>#hal.executable.objects&lt;{
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_arm_64.obj&quot;}&gt;
  ],
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-x86_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_x86_64.obj&quot;}&gt;
  ]
}&gt;
</code></pre></div>
  {{% /markdown %}}</details></td></tr>
<table>

#### `hal.executable.variant_end` (HAL::ExecutableVariantEndOp)

_Terminator pseudo-op for the executable variant op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.variant_end` attr-dict
</code></pre></div>


Traits: HasParent<IREE::HAL::ExecutableVariantOp>, Terminator

#### `hal.executable.variant` (HAL::ExecutableVariantOp)

_Target-specific variant of an executable op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.executable.variant` custom&lt;SymbolVisibility&gt;($sym_visibility)
              $sym_name
              `,` `target` `=` $target
              (`,` `objects` `=` $objects^ )?
              attr-dict-with-keyword
              regions
</code></pre></div>

The target IR for the executable. This can be preserved for debugging but
is usually removed during transformation.

Traits: HasParent<IREE::HAL::ExecutableOp>, IsolatedFromAbove, SingleBlock, SingleBlockImplicitTerminator<IREE::HAL::ExecutableVariantEndOp>, SymbolTable

Interfaces: Symbol

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>sym_visibility</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>sym_name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<tr><td><code>target</code></td><td>::mlir::iree_compiler::IREE::HAL::ExecutableTargetAttr</td><td><details><summary>generic executable target specification</summary>{{% markdown %}}
    Specifies how to compile an executable for a specific target backend.
    A backend is used to translate and serialize the executable into the final
    form passed to the runtime. The format of the executable is a
    target-specific value indicating the required runtime support to load the
    deployed artifact. An optionally provided configuration dictionary overrides
    backend-specific defaults.

    Example:
    <div class="highlight"><pre><span></span><code>  // Produce a system-native ELF for x86-64 systems using the LLVM backend:
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;system-elf-x86_64&quot;, {
    triple = &quot;x86_64-unknown-linux-elf&quot;,
    cpu = &quot;host&quot;,
    cpu_features = &quot;host&quot;,
    abi = &quot;lp32&quot;,
    ...
  }&gt;
</code></pre></div>

    The same compilation backend may be used to translate executables for
    several different runtime devices. Likewise the same runtime device may use
    one of many different executable targets. Assume an N:M mapping between the
    two in all cases.
  {{% /markdown %}}</details></td></tr>
<tr><td><code>objects</code></td><td>::mlir::ArrayAttr</td><td>HAL executable object references</td></tr>
<table>


### Experimental ops

Temporary hack ops expected to be removed in the future.

#### `hal.ex.file.from_memory` (HAL::ExFileFromMemoryOp)

_Creates a file mapped into a byte range of a host buffer_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.ex.file.from_memory` `device` `(` $device `:` type($device) `)`
              `affinity` `(` $queue_affinity `)`
              `access` `(` $access `)`
              `buffer` `(` $buffer `:` type($buffer) `)`
              `` `[` $offset `for` $length `]`
              `flags` `(` $flags `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a file handle that is backed by the given `buffer` contents.
Behavior is undefined if the buffer contents change while the accesses are
in-flight.

Experimental as the exact interface for getting files from module contents
still needs iteration. Most hardware APIs require a file descriptor or
native platform handle but here we only have host pointers. When
memory-mapped some systems allow for retrieval of the platform handle from
a virtual address (GetMappedFileNameA/posix_mem_offset) but the APIs are
sketchy and likely slow. Instead we should probably have a way to query for
a file handle derived from the calling module by stack-walking and asking
the VM module for its handle. Until we can figure this out this method will
be marked epxerimental.

Interfaces: OpAsmOpInterface

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>access</code></td><td>mlir::iree_compiler::IREE::HAL::MemoryAccessBitfieldAttr</td><td><details><summary>valid MemoryAccess</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Read (`Read`)
* Write (`Write`)
* Discard (`Discard`)
* MayAlias (`MayAlias`)
* Unaligned (`Unaligned`)
* Any (`Any`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `queue_affinity` | 64-bit signless integer
| `buffer` | a reference counted byte buffer
| `offset` | index
| `length` | index
| `flags` | 32-bit signless integer

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | buffer

#### `hal.ex.shared_device` (HAL::ExSharedDeviceOp)

Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.ex.shared_device` attr-dict `:` type($result)
</code></pre></div>


Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | device


### Fence ops

Ops for `!hal.fence` / `iree_hal_fence_t`.

#### `hal.fence.await` (HAL::FenceAwaitOp)

_Asynchronous fence wait operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.await` `until` `(` `[` $fences `]` `)`
              `timeout_millis` `(` $timeout_millis `)`
              `:` type($status)
              attr-dict-with-keyword
</code></pre></div>

Yields the caller until all fences is reached. Returns the `status` of the
fence after the wait, with a non-zero value indicating failure.

Traits: Util_YieldPoint

Interfaces: OpAsmOpInterface

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `timeout_millis` | 32-bit signless integer
| `fences` | fence

##### Results:

| Result | Description |
| :----: | ----------- |
| `status` | 32-bit signless integer

#### `hal.fence.create` (HAL::FenceCreateOp)

_Creates an unsignaled fence_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.create` `device` `(` $device `:` type($device) `)`
              `flags` `(` $flags `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a fence that defines a point in time. By default fences will remain
unsignaled unless they are explicitly signaled with `hal.fence.signal` or
asynchronously signaled by the device by passing them as an operand to
queue submission ops.

Interfaces: MemoryEffectOpInterface (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{MemoryEffects::Allocate on ::mlir::SideEffects::DefaultResource}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>flags</code></td><td>mlir::iree_compiler::IREE::HAL::FenceFlagBitfieldAttr</td><td><details><summary>valid FenceFlag</summary>{{% markdown %}}Enum cases:
* None (`None`)
* Reserved (`Reserved`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | fence

#### `hal.fence.fail` (HAL::FenceFailOp)

_Fence failure operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.fail` `&lt;` $fence `:` type($fence) `&gt;`
              `status` `(` $status `)`
              attr-dict-with-keyword
</code></pre></div>

Signals the fence with a failure. The `status` will be returned from
each timepoint semaphores `hal.semaphore.query` and `hal.semaphore.signal`
for the lifetime of each semaphore.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `fence` | fence
| `status` | 32-bit signless integer

#### `hal.fence.join` (HAL::FenceJoinOp)

_Creates a fence from the given timepoints_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.join` `at` `(` `[` $fences `]` `)`
              `-&gt;` type($result)
              attr-dict-with-keyword
</code></pre></div>

Returns a fence that joins the input fences as a wait-all operation.

Interfaces: OpAsmOpInterface

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `fences` | fence

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | fence

#### `hal.fence.query` (HAL::FenceQueryOp)

_Fence query operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.query` `&lt;` $fence `:` type($fence) `&gt;`
              `:` type($status)
              attr-dict-with-keyword
</code></pre></div>

Queries whether the fence has been reached and its status.
Returns OK if the fence has been signaled successfully, DEFERRED if it is
unsignaled, and otherwise an error indicating the failure.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `fence` | fence

##### Results:

| Result | Description |
| :----: | ----------- |
| `status` | 32-bit signless integer

#### `hal.fence.signal` (HAL::FenceSignalOp)

_Fence signal operation_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.fence.signal` `&lt;` $fence `:` type($fence) `&gt;`
              attr-dict-with-keyword
</code></pre></div>

Signals the fence to indicate that the timepoints contained have been
reached. Waiting work may begin immediately.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `fence` | fence


### Instrument ops

Ops for `!hal.instrument.*`.

#### `hal.instrument.memory.load` (HAL::InstrumentMemoryLoadOp)

_Emits a memory load instrumentation event_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.memory.load` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $base `[` $indices `]` `,` $loadValue
              attr-dict `:` type($base) `,` type($result)
</code></pre></div>

Emits a workgroup-specific memory load event indicating that a number of
bytes from the given resolved pointer have been loaded by the workgroup.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | memref of any type values
| `workgroupKey` | index
| `loadValue` | any type
| `base` | memref of any type values
| `indices` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | any type

#### `hal.instrument.memory.store` (HAL::InstrumentMemoryStoreOp)

_Emits a memory store instrumentation event_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.memory.store` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $base `[` $indices `]` `,` $storeValue
              attr-dict `:` type($base) `,` type($result)
</code></pre></div>

Emits a workgroup-specific memory store event indicating that a number of
bytes have been stored to the given resolved pointer by the workgroup.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | memref of any type values
| `workgroupKey` | index
| `storeValue` | any type
| `base` | memref of any type values
| `indices` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | any type

#### `hal.instrument.print` (HAL::InstrumentPrintOp)

_Emits a human-readable printf-style string event_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.print` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $format (`*` `(` $values^ `:` type($values) `)`)?
              attr-dict
</code></pre></div>

Formats a string using a limited subset of printf format specifiers and the
provided values and then emits an `iree_instrument_dispatch_print_t` event. Final
formatted string lengths may be limited to as much as 1024 characters and
should be kept as small as possible to avoid easily exceeding the
instrumentation storage buffers with redundant strings.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>format</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | memref of any type values
| `workgroupKey` | index
| `values` | any type

#### `hal.instrument.value` (HAL::InstrumentValueOp)

_Emits a scalar value instrumentation event_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.value` `` `[` $buffer `:` type($buffer) `for` $workgroupKey `]`
              $ordinal `=` $operand attr-dict `:` type($operand)
</code></pre></div>

Emits a workgroup-specific typed value with the given workgroup-relative
ordinal.

This op will be preserved even if the output is not used as it is only for
debugging purposes.

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>ordinal</code></td><td>::mlir::IntegerAttr</td><td>8-bit integer attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | memref of any type values
| `workgroupKey` | index
| `operand` | any type

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | any type

#### `hal.instrument.workgroup` (HAL::InstrumentWorkgroupOp)

_Emits a dispatch workgroup instrumentation event_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.instrument.workgroup` `` `[` $buffer `:` type($buffer) `]`
              `dispatch` `(` $dispatchId `)`
              attr-dict `:` type($workgroupKey)
</code></pre></div>

Emits an `iree_instrument_dispatch_workgroup_t` event into the
instrumentation stream. The workgroup event identifies the unique dispatch,
its workgroup count, and the ID of the emitting workgroup within the
dispatch. Optionally targets that support querying the processor ID
executing the workgroup can attach that information for tracking purposes.

On targets such as CPUs where entire workgroups execute as atomic units
only one workgroup event should be emitted. On targets such as GPUs where
there may be multiple invocations executing as part of a single workgroup
only the first invocation within the workgroup should emit the workgroup
event (by checking if the LocalInvocationIndex or threadIdx == 0, etc).

The resulting workgroup key is used by subsequent workgroup-specific
instrumentation events.

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `buffer` | memref of any type values
| `dispatchId` | 32-bit signless integer

##### Results:

| Result | Description |
| :----: | ----------- |
| `workgroupKey` | index


### Interface ops

Ops for `!hal.interface.*`.

#### `hal.interface.binding.subspan` (HAL::InterfaceBindingSubspanOp)

_Returns an alias to a subspan of interface binding data_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.binding.subspan` `set` `(` $set `)`
              `binding` `(` $binding `)`
              `type` `(` custom&lt;DescriptorType&gt;($descriptor_type) `)`
              (`alignment` `(` $alignment^ `)`)?
              (`offset` `(` $byte_offset^ `)`)?
              (`flags` `(` $descriptor_flags^ `)`)?
              attr-dict `:` type($result) (`{` $dynamic_dims^ `}`)?
</code></pre></div>

Returns a subspan of an interface binding storage buffer in a generic type.
The exact shape, type, and alignment of the returned type are defined by
the result type (tensor, memref, etc).

An optional alignment indicates the byte alignment of the base binding
resource. Note that the byte offset is added to the base and the alignment
will be the minimum of the two.

Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), Util_ShapeAwareOp

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>set</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<tr><td><code>binding</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<tr><td><code>descriptor_type</code></td><td>::mlir::iree_compiler::IREE::HAL::DescriptorTypeAttr</td><td><details><summary>valid DescriptorType</summary>{{% markdown %}}Enum cases:
* uniform_buffer (`UniformBuffer`)
* storage_buffer (`StorageBuffer`){{% /markdown %}}</details></td></tr>
<tr><td><code>alignment</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<tr><td><code>descriptor_flags</code></td><td>::mlir::iree_compiler::IREE::HAL::DescriptorFlagsAttr</td><td><details><summary>valid Descriptor flags</summary>{{% markdown %}}Enum cases:
* None (`None`)
* ReadOnly (`ReadOnly`){{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `byte_offset` | index
| `dynamic_dims` | index

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | any type

#### `hal.interface.constant.load` (HAL::InterfaceConstantLoadOp)

_Loads a constant value from the interface constant block_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.constant.load` `` `[` $index `]`
              (`alignment` `(` $alignment^ `)`)?
              (`values` `(` $values^ `)`)?
              attr-dict `:` type($result)
</code></pre></div>

Loads a scalar constant value from an executable IO push constant block.
The value will be loaded from the given constant offset and will be
bitcast (possibly with truncation or zero-extension) to the result type.

An optional alignment indicates the byte alignment of potential values for
the constant when it could be determined from analysis. If omitted the value
may be anything and its interpretation is up to the usage. This is intended
to provide pointer alignment-like semantics to constants that are used to
index into binding resources.

An optional set of values indicates all possible values that can be passed
to the constant from all dispatch sites in the program. If omitted the value
may be from an unanalyzable source (outside of the program, indirect, etc)
and must be assumed to have any value.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface)

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>index</code></td><td>::mlir::IntegerAttr</td><td>size_t</td></tr>
<tr><td><code>alignment</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<tr><td><code>values</code></td><td>::mlir::ArrayAttr</td><td>array attribute</td></tr>
<table>

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index or signless integer or floating-point or complex-type

#### `hal.interface.workgroup.count` (HAL::InterfaceWorkgroupCountOp)

_Returns the total workgroup count of the grid_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.count` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

The total number of workgroups along each dimension in the dispatch grid.
Matches what was passed to the `hal.command_buffer.dispatch` command (or
what was indirectly specified).

Corresponds to the `NumWorkgroups` SPIR-V built-in and the `gridDim` CUDA
built-in variable.

<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.count[0] : index
%y = hal.interface.workgroup.count[1] : index
%z = hal.interface.workgroup.count[2] : index
</code></pre></div>

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>dimension</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index

#### `hal.interface.workgroup.id` (HAL::InterfaceWorkgroupIDOp)

_Returns the index of the current workgroup in the grid_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.id` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

The global workgroup ID of the current tile in the range of
`[0, hal.interface.workgroup.count)` along each XYZ dimension.

Corresponds to the `WorkgroupId` SPIR-V built-in and the `blockIdx` CUDA
built-in variable.

<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.id[0] : index
%y = hal.interface.workgroup.id[1] : index
%z = hal.interface.workgroup.id[2] : index
</code></pre></div>

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>dimension</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index

#### `hal.interface.workgroup.size` (HAL::InterfaceWorkgroupSizeOp)

_Returns the size of each workgroup in invocations_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.interface.workgroup.size` `[` $dimension `]` attr-dict `:` type($result)
</code></pre></div>

The number of local invocations within the current workgroup along each
dimension. Depending on backend this may map to the SIMT thread count or
inner loop nest parameters.

Corresponds to the `WorkgroupSize` SPIR-V built-in and the `blockDim` CUDA
built-in variable.

<div class="highlight"><pre><span></span><code>%x = hal.interface.workgroup.size[0] : index
%y = hal.interface.workgroup.size[1] : index
%z = hal.interface.workgroup.size[2] : index
</code></pre></div>

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>dimension</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | index


### Pipeline layout ops

Ops for `!hal.pipeline_layout` / `iree_hal_pipeline_layout_t`.


#### `hal.pipeline_layout.create` (HAL::PipelineLayoutCreateOp)

_Creates an pipeline layout_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.pipeline_layout.create` `device` `(` $device `:` type($device) `)`
              `push_constants` `(` $push_constants `)`
              `layouts` `(` `[` $set_layouts `]` `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Creates an pipeline layout from the given descriptor sets and push
constant required size. Pipeline layouts can be shared across any
executable that uses the same layout and push constant information. Sharing
the layout between executables will reduce runtime binding overhead and it
is often worth the cost to allow a small number of unused bindings in one
executable such that it can share layouts with others that will be scheduled
adjacent to it.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>push_constants</code></td><td>::mlir::IntegerAttr</td><td>index attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device
| `set_layouts` | descriptor_set_layout

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | pipeline_layout

#### `hal.pipeline_layout.lookup` (HAL::PipelineLayoutLookupOp)

_Pipeline layout cache lookup pseudo-op_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.pipeline_layout.lookup` `device` `(` $device `:` type($device) `)`
              `layout` `(` $layout `)`
              `:` type($result)
              attr-dict-with-keyword
</code></pre></div>

Used during conversion to provide a placeholder for a globally cached and
possibly lazy-initialized pipeline layout.

Traits: AlwaysSpeculatableImplTrait

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), OpAsmOpInterface

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>layout</code></td><td>::mlir::iree_compiler::IREE::HAL::PipelineLayoutAttr</td><td><details><summary>executable entry point layout specification</summary>{{% markdown %}}
    Specifies the layout information used for interacting with executable
    functions. This allows host code to correctly map parameters to the
    lower-level target-specific argument passing behavior.
  {{% /markdown %}}</details></td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `device` | device

##### Results:

| Result | Description |
| :----: | ----------- |
| `result` | pipeline_layout


### Pseudo Ops

Pseudo ops for conversion support.

#### `hal.tensor.barrier` (HAL::TensorBarrierOp)

_Signals a fence when all tensors are available_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.barrier` `join` `` `(` $sources `:` type($sources) `)`
              `=` `` `&gt;`
              $signal_fence `:` type($signal_fence)
              attr-dict-with-keyword
</code></pre></div>

Defines a barrier that is used to indicate availability of an entire set of
tensors by signaling a fence. The source tensors are returned for chaining.

Interfaces: TiedOpInterface

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `sources` | tensor of any type values
| `signal_fence` | fence

##### Results:

| Result | Description |
| :----: | ----------- |
| `results` | tensor of any type values

#### `hal.tensor.export` (HAL::TensorExportOp)

_Exports a tensor to a HAL buffer view_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.export` $source
              ($name^)?
              (`into` `(` $target_storage^ `:` type($target_storage) `)`)?
              `:`
              custom&lt;TypeAlias&gt;($source_encoding, type($source)) (`{` $source_dims^ `}`)?
              `-&gt;`
              type($target)
              attr-dict
</code></pre></div>

Defines an export of an SSA-form tensor to an external HAL buffer view.

The provided `source_encoding`, if different from the `source` type,
indicates that the ABI-facing type may differ from the internal
representation. The types must be bitcastable (same storage size) and
dynamically shaped values must have the same number of dynamic dimensions.
This allows for casting between rank-0 and rank-N types, different element
types, etc.

An optional `target_storage` buffer can be provided to hold the exported
result. The export will fail at runtime if the storage is null or if it has
insufficient capacity to store the output. The storage must be
device-visible and defined for transfer-target and dispatch usage.

Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_ShapeAwareOp

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>source_encoding</code></td><td>::mlir::TypeAttr</td><td>any type attribute</td></tr>
<tr><td><code>name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `source` | tensor of any type values
| `source_dims` | index
| `target_storage` | buffer or buffer_view

##### Results:

| Result | Description |
| :----: | ----------- |
| `target` | buffer or buffer_view

#### `hal.tensor.import` (HAL::TensorImportOp)

_Imports a tensor from a HAL buffer view_


Syntax:

<div class="highlight"><pre><span></span><code>operation ::= `hal.tensor.import` (`wait` `(` $wait_fence^ `)` `=` `` `&gt;`)?
              $source
              ($name^)?
              `:` type($source) `-&gt;`
              custom&lt;TypeAlias&gt;($target_encoding, type($target)) (`{` $target_dims^ `}`)?
              attr-dict
</code></pre></div>

Defines an import of an external HAL buffer view into a SSA-form tensor.
An optional semaphore timepoint can be specified indicating when the
buffer view is available for use. If no semaphore timepoint is provided it
is assumed the buffer view is immediately available.

The provided `target_encoding`, if different from the `target` type,
indicates that the ABI-facing type may differ from the internal
representation. The types must be bitcastable (same storage size) and
dynamically shaped values must have the same number of dynamic dimensions.
This allows for casting between rank-0 and rank-N types, different element
types, etc.

Traits: AlwaysSpeculatableImplTrait, AttrSizedOperandSegments

Interfaces: ConditionallySpeculatable, NoMemoryEffect (MemoryEffectOpInterface), TiedOpInterface, Util_ShapeAwareOp

Effects: MemoryEffects::Effect{}

##### Attributes:

<table>
<tr><th>Attribute</th><th>MLIR Type</th><th>Description</th></tr>
<tr><td><code>target_encoding</code></td><td>::mlir::TypeAttr</td><td>any type attribute</td></tr>
<tr><td><code>name</code></td><td>::mlir::StringAttr</td><td>string attribute</td></tr>
<table>

##### Operands:

| Operand | Description |
| :-----: | ----------- |
| `source` | buffer or buffer_view
| `target_dims` | index
| `wait_fence` | fence

##### Results:

| Result | Description |
| :----: | ----------- |
| `target` | tensor of any type values


## Attribute definition

### AffinityQueueAttr

specifies a set of allowed queues for an operation

WIP; see [#10765](https://github.com/openxla/iree/issues/10765).
This may change in the future to either be a nested attribute on a larger
affinity struct or be defined by an implementation of the affinity attr
interface. For now this allows higher levels of the stack to specify
queues such that the stream dialect can understand them and they can be
lowered into the HAL dialect.

Specifies that an annotated operation or scope is only allowed to execute on
the set of queues (0-64) provided. Operations will not run on other queues.

Example:
<div class="highlight"><pre><span></span><code>// any queue
#hal.affinity.queue&lt;*&gt;
// queues 4 and 5
#hal.affinity.queue&lt;[4, 5]&gt;
</code></pre></div>

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| mask | `int64_t` |  |

### CollectiveAttr

collective operation and specification

Syntax:

<div class="highlight"><pre><span></span><code>#hal.collective&lt;
  CollectiveKind,   # kind
  std::optional&lt;CollectiveReductionOp&gt;,   # reduction
  CollectiveElementType   # element_type
&gt;
</code></pre></div>

Specifies the collective operation to perform and any mode bits required.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| kind | `CollectiveKind` |  |
| reduction | `std::optional<CollectiveReductionOp>` |  |
| element_type | `CollectiveElementType` |  |

### DescriptorSetBindingAttr

descriptor set binding specification

Syntax:

<div class="highlight"><pre><span></span><code>#hal.descriptor_set.binding&lt;
  int64_t,   # ordinal
  DescriptorType,   # type
  std::optional&lt;DescriptorFlags&gt;   # flags
&gt;
</code></pre></div>

Specifies a single binding within a descriptor set layout.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| ordinal | `int64_t` |  |
| type | `DescriptorType` |  |
| flags | `std::optional<DescriptorFlags>` |  |

### DescriptorSetLayoutAttr

descriptor set layout specification

Syntax:

<div class="highlight"><pre><span></span><code>#hal.descriptor_set.layout&lt;
  int64_t,   # ordinal
  ::llvm::ArrayRef&lt;DescriptorSetBindingAttr&gt;,   # bindings
  std::optional&lt;DescriptorSetLayoutFlags&gt;   # flags
&gt;
</code></pre></div>

Specifies the layout information of a single set of descriptors used within
an pipeline layout. Multiple of these sets may be used by a single entry
point to allow for bindings with similar update frequencies to be grouped.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| ordinal | `int64_t` |  |
| bindings | `::llvm::ArrayRef<DescriptorSetBindingAttr>` |  |
| flags | `std::optional<DescriptorSetLayoutFlags>` |  |

### DescriptorTypeAttr

valid DescriptorType

Syntax:

<div class="highlight"><pre><span></span><code>#hal.descriptor_type&lt;
  ::mlir::iree_compiler::IREE::HAL::DescriptorType   # value
&gt;
</code></pre></div>

Enum cases:
* uniform_buffer (`UniformBuffer`)
* storage_buffer (`StorageBuffer`)
##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| value | `::mlir::iree_compiler::IREE::HAL::DescriptorType` | an enum of type DescriptorType |

### DeviceMatchArchitectureAttr

matches against a device architecture pattern

Matches a device by its runtime architecture. The format of the architecture
pattern is device-dependent.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| pattern | `StringAttr` |  |

### DeviceMatchExecutableFormatAttr

matches when a device supports the given executable format

Matches a device only if it claims to support the given executable format
pattern. It's still possible that the executable cannot be loaded such as if
it uses unavailable device features. This is used for queries such as
"can you load ELF libraries?" to quickly get to a set of executables to
attempt without needing to try dozens that definitely cannot be loaded.

Note that different devices may share the same executable formats: for
example a local synchronous CPU executor and a remote asynchronous CPU
executor can both load ELF libraries. It's also possible for the same device
to support multiple formats such as being able to load both
platform-agnostic ELF libraries and platform-specific DLL/MachO/etc
libraries.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| pattern | `StringAttr` |  |

### DeviceMatchFeatureAttr

matches against a supported device feature pattern

Matches a device that supports the given feature. The format of the feature
pattern is device-dependent.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| pattern | `StringAttr` |  |

### DeviceMatchIDAttr

matches against a device ID pattern

Matches a device by its canonical compiler/runtime ID.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| pattern | `StringAttr` |  |

### DeviceTargetAttr

generic device target specification

Specifies the properties of a target runtime device.
Target devices are specified with a canonical identifier matching those used
by the runtime (such as `cpu`, `vulkan`, etc). Target devices may support
several target executable formats specified with `#hal.executable.target`.
An optional configuration dictionary allows for overriding backend defaults.

Example:
<div class="highlight"><pre><span></span><code>#hal.device.target&lt;&quot;llvm-cpu&quot;, {
  executable_targets = [
    #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_32&quot;&gt;,
    #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_64&quot;&gt;,
  ]
}&gt;
</code></pre></div>

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| deviceID | `StringAttr` |  |
| configuration | `DictionaryAttr` |  |

### ExecutableObjectAttr

object file reference

Defines an object file that can be linked into executables.
Today this is only supported for external file references with paths the
compiler can successfully resolve from its current working directory.
Inlined data can optionally be provided to avoid the need for file system
access and ensure the data source is attached to the IR as it makes its way
through multiple compiler stages or reproducers.

Future revisions may change this to an interface that allows both internal
and external resources to define the object contents. Linking needs to be
updated to support various object compositions and certain backends may
require additional infrastructure support.

In the long term the goal is to allow combinations of declared objects and
generated code in order to give control of linking behavior to frontends.
Instead of needing global command line flags to link in additional blobs
the frontend can emit executables with the dependencies already defined per
variant without needing to reach into the IREE compiler code.

Example:
<div class="highlight"><pre><span></span><code>#hal.executable.object&lt;{path = &quot;some/file.obj&quot;}&gt;
#hal.executable.object&lt;{
  path = &quot;some/embedded/file.obj&quot;,
  data = dense&lt;[...]&gt; : vector&lt;2048xi8&gt;
}&gt;
</code></pre></div>

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| path | `StringAttr` |  |
| data | `DenseIntElementsAttr` |  |

### ExecutableObjectsAttr

target-specific object file references

A dictionary mapping executable target specifications to a list of objects.
This is used to allow layers of the stack that support multi-targeting to
specify information used during lowering into each particular target.

The key attributes are matched against each target variant based on the
backend and format as well as any configuration data provided. When
comparing the configuration only fields present in both the key and
target variant will be checked and must match. This allows specification of
generic sets ("all x86_64 targets get these objects") as well as specific
ones ("only x86_64 targets with vector_size = 64 get these objects").

Example:
<div class="highlight"><pre><span></span><code>#hal.executable.objects&lt;{
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-arm_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_arm_64.obj&quot;}&gt;
  ],
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;embedded-elf-x86_64&quot;&gt; = [
    #hal.executable.object&lt;{path = &quot;some/file_x86_64.obj&quot;}&gt;
  ]
}&gt;
</code></pre></div>

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| targets | `ArrayAttr` |  |
| targetObjects | `ArrayAttr` |  |

### ExecutableTargetAttr

generic executable target specification

Specifies how to compile an executable for a specific target backend.
A backend is used to translate and serialize the executable into the final
form passed to the runtime. The format of the executable is a
target-specific value indicating the required runtime support to load the
deployed artifact. An optionally provided configuration dictionary overrides
backend-specific defaults.

Example:
<div class="highlight"><pre><span></span><code>  // Produce a system-native ELF for x86-64 systems using the LLVM backend:
  #hal.executable.target&lt;&quot;llvm-cpu&quot;, &quot;system-elf-x86_64&quot;, {
    triple = &quot;x86_64-unknown-linux-elf&quot;,
    cpu = &quot;host&quot;,
    cpu_features = &quot;host&quot;,
    abi = &quot;lp32&quot;,
    ...
  }&gt;
</code></pre></div>

The same compilation backend may be used to translate executables for
several different runtime devices. Likewise the same runtime device may use
one of many different executable targets. Assume an N:M mapping between the
two in all cases.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| backend | `StringAttr` |  |
| format | `StringAttr` |  |
| configuration | `DictionaryAttr` |  |

### InterfaceBindingAttr

interface binding specification

Syntax:

<div class="highlight"><pre><span></span><code>#hal.interface.binding&lt;
  int64_t,   # set
  int64_t   # binding
&gt;
</code></pre></div>

Specifies the descriptor set and binding ordinal of a particular layout
binding.

Example:
<div class="highlight"><pre><span></span><code>#hal.interface.binding&lt;0, 1&gt;
</code></pre></div>

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| set | `int64_t` |  |
| binding | `int64_t` |  |

### MatchAllAttr

matches if all subexpressions match

Returns true only if all subexpressions return true (logical AND) or empty.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| conditions | `ArrayAttr` |  |

### MatchAlwaysAttr

always matches

Syntax: `#hal.match.always`

Returns true (constant true).

### MatchAnyAttr

matches if any subexpression matches

Returns true if any subexpression matches (logical OR) and not empty.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| conditions | `ArrayAttr` |  |

### PipelineLayoutAttr

executable entry point layout specification

Syntax:

<div class="highlight"><pre><span></span><code>#hal.pipeline.layout&lt;
  int64_t,   # pushConstants
  ::llvm::ArrayRef&lt;DescriptorSetLayoutAttr&gt;   # setLayouts
&gt;
</code></pre></div>

Specifies the layout information used for interacting with executable
functions. This allows host code to correctly map parameters to the
lower-level target-specific argument passing behavior.

##### Parameters:

| Parameter | C++ type | Description |
| :-------: | :-------: | ----------- |
| pushConstants | `int64_t` |  |
| setLayouts | `::llvm::ArrayRef<DescriptorSetLayoutAttr>` |  |

## Type constraint definition

### allocator

Allocates buffers for a particular device memory space.


### buffer

A memory buffer with a specific memory_type that is used to describe the
capabilities and behavior of the backing memory of the buffer. Buffers may
be any mix of host-accessible, host-coherent, or device-accessible for
various usages. Depending on these memory types the buffers may be mapped
for access on the host as memory though certain restrictions may be imposed.


### buffer_view

A shaped and typed buffer reference. This just wraps an existing hal.buffer
with its associated metadata to make it easier to pass across ABI
boundaries. In most cases buffer views can be elided entirely by the
compiler and they'll only be seen when calling external functions.


### collective.channel

Channel identifier used to allow for participation in multiple collective
groups.


### command_buffer

Asynchronous command buffer recording interface. Commands are recorded by
the implementation for later submission to command queues.


### descriptor_set_layout

Descriptor set layout.


### device

Logical device instance.


### event

Events are used for defining synchronization scopes within CommandBuffers.
An event only exists within a single CommandBuffer and must not be used
across CommandBuffers from the same device or others.


### executable

A prepared and ready-to-dispatch executable.


### fence

A set of semaphore timepoints defining a common point in time across
multiple timelines.


### buffer

A stateless file handle that can be read/written using queue-ordered
transfer operations.


### pipeline_layout

A pipeline layout describing the descriptor sets and push constants used.





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 The IREE Authors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/openxla/iree" target="_blank" rel="noopener" title="IREE on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/26P4xW4" target="_blank" rel="noopener" title="IREE Discord Server" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://groups.google.com/forum/#!forum/iree-discuss" target="_blank" rel="noopener" title="IREE Discuss Google Group" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M144 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zm368 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1-192 0zm-96 261.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.indexes", "toc.follow"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>